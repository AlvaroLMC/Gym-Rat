(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{824:(e,s,t)=>{Promise.resolve().then(t.bind(t,6698))},6698:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var a=t(5155),r=t(2115),n=t(63),i=t(9730),d=t(8413),o=t(3209);function l(e){let{title:s,value:t,icon:r,color:n}=e;return(0,a.jsx)(o.Zp,{className:"overflow-hidden border-2 hover:shadow-lg transition-shadow",children:(0,a.jsx)(o.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:s}),(0,a.jsx)("p",{className:"text-4xl font-bold mt-2",children:t}),(0,a.jsx)("div",{className:"mt-3 h-2 bg-muted rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat(n," transition-all duration-500"),style:{width:"".concat(t,"%")}})})]}),(0,a.jsx)("div",{className:"".concat(n," p-4 rounded-2xl"),children:(0,a.jsx)(r,{className:"h-8 w-8 text-primary-foreground"})})]})})})}var c=t(7003),u=t(235),m=t(6170),x=t(5644),h=t(4033),p=t(5917),v=t(2108),f=t(5016);function g(e){let{...s}=e;return(0,a.jsx)(x.bL,{"data-slot":"select",...s})}function j(e){let{...s}=e;return(0,a.jsx)(x.WT,{"data-slot":"select-value",...s})}function b(e){let{className:s,size:t="default",children:r,...n}=e;return(0,a.jsxs)(x.l9,{"data-slot":"select-trigger","data-size":t,className:(0,f.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n,children:[r,(0,a.jsx)(x.In,{asChild:!0,children:(0,a.jsx)(h.A,{className:"size-4 opacity-50"})})]})}function N(e){let{className:s,children:t,position:r="popper",...n}=e;return(0,a.jsx)(x.ZL,{children:(0,a.jsxs)(x.UC,{"data-slot":"select-content",className:(0,f.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...n,children:[(0,a.jsx)(w,{}),(0,a.jsx)(x.LM,{className:(0,f.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(A,{})]})})}function y(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(x.q7,{"data-slot":"select-item",className:(0,f.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(x.VF,{children:(0,a.jsx)(p.A,{className:"size-4"})})}),(0,a.jsx)(x.p4,{children:t})]})}function w(e){let{className:s,...t}=e;return(0,a.jsx)(x.PP,{"data-slot":"select-scroll-up-button",className:(0,f.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(v.A,{className:"size-4"})})}function A(e){let{className:s,...t}=e;return(0,a.jsx)(x.wn,{"data-slot":"select-scroll-down-button",className:(0,f.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(h.A,{className:"size-4"})})}var E=t(7621),z=t(8171),C=t(4982),k=t(6154),_=t(3457),S=t(952);function Z(){let{user:e,refreshUser:s}=(0,i.A)(),{toast:t}=(0,z.dj)(),[n,d]=(0,r.useState)("STRENGTH"),[l,x]=(0,r.useState)(10),[h,p]=(0,r.useState)(5),[v,f]=(0,r.useState)(""),[w,A]=(0,r.useState)(!1),Z=async()=>{if(e){A(!0);try{await E.Eo.train(e.id,{stat:n,amount:l}),await s(),t({title:"\xa1Entrenamiento completado!",description:"Has mejorado tu ".concat(n.toLowerCase()," en ").concat(l," puntos.")})}catch(e){var a,r;t({title:"Error",description:(null==(r=e.response)||null==(a=r.data)?void 0:a.message)||"Error al entrenar",variant:"destructive"})}finally{A(!1)}}},R=async()=>{if(e){A(!0);try{await E.Eo.rest(e.id,{amount:h}),await s(),t({title:"\xa1Descanso completado!",description:"Has recuperado ".concat(h," puntos de energ\xeda.")})}catch(e){var a,r;t({title:"Error",description:(null==(r=e.response)||null==(a=r.data)?void 0:a.message)||"Error al descansar",variant:"destructive"})}finally{A(!1)}}},D=async()=>{if(e&&v){A(!0);try{await E.Eo.purchase(e.id,{accessoryName:v}),await s(),t({title:"\xa1Compra exitosa!",description:"Has comprado: ".concat(v)}),f("")}catch(e){var a,r;t({title:"Error",description:(null==(r=e.response)||null==(a=r.data)?void 0:a.message)||"Error al comprar",variant:"destructive"})}finally{A(!1)}}};return(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,a.jsxs)(o.Zp,{className:"border-2",children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-5 w-5 text-primary"}),"Entrenar"]})}),(0,a.jsxs)(o.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Estad\xedstica"}),(0,a.jsxs)(g,{value:n,onValueChange:d,children:[(0,a.jsx)(b,{children:(0,a.jsx)(j,{})}),(0,a.jsxs)(N,{children:[(0,a.jsx)(y,{value:"STRENGTH",children:"Fuerza"}),(0,a.jsx)(y,{value:"ENDURANCE",children:"Resistencia"}),(0,a.jsx)(y,{value:"FLEXIBILITY",children:"Flexibilidad"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Cantidad"}),(0,a.jsx)(m.p,{type:"number",value:l,onChange:e=>x(Number(e.target.value)),min:1})]}),(0,a.jsxs)(c.$,{onClick:Z,disabled:w,className:"w-full bg-primary hover:bg-primary/90",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Entrenar"]})]})]}),(0,a.jsxs)(o.Zp,{className:"border-2",children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 text-primary"}),"Descansar"]})}),(0,a.jsxs)(o.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Cantidad de recuperaci\xf3n"}),(0,a.jsx)(m.p,{type:"number",value:h,onChange:e=>p(Number(e.target.value)),min:1})]}),(0,a.jsxs)(c.$,{onClick:R,disabled:w,variant:"secondary",className:"w-full mt-auto",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 mr-2"}),"Descansar"]})]})]}),(0,a.jsxs)(o.Zp,{className:"border-2",children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 text-primary"}),"Comprar Accesorio"]})}),(0,a.jsxs)(o.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Nombre del accesorio"}),(0,a.jsx)(m.p,{value:v,onChange:e=>f(e.target.value),placeholder:"Ej: Guantes de entrenamiento"})]}),(0,a.jsxs)(c.$,{onClick:D,disabled:w||!v||(null==e?void 0:e.accessoryPurchased),variant:"outline",className:"w-full mt-auto bg-transparent",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-2"}),(null==e?void 0:e.accessoryPurchased)?"Ya compraste":"Comprar"]})]})]})]})}var R=t(6485),D=t(6983);function L(e){let{description:s,timestamp:t}=e,r=new Date(t),n=r.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),i=r.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});return(0,a.jsx)(o.Zp,{className:"hover:shadow-md transition-shadow",children:(0,a.jsxs)(o.Wu,{className:"p-4",children:[(0,a.jsx)("p",{className:"font-medium text-foreground mb-3",children:s}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(R.A,{className:"h-4 w-4"}),n]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),i]})]})]})})}var T=t(5299),F=t(1524),W=t(7812);function P(){let e=(0,n.useRouter)(),{user:s,isLoading:t}=(0,i.A)();return((0,r.useEffect)(()=>{t||s||e.push("/login")},[s,t,e]),t||!s)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(T.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/10 to-background",children:[(0,a.jsx)(d.F,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8 space-y-8",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-secondary to-secondary/80 p-8 md:p-12 text-secondary-foreground",children:[(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-balance",children:["\xa1Hola, ",s.name,"! \uD83D\uDCAA"]}),(0,a.jsx)("p",{className:"text-xl text-secondary-foreground/90 max-w-2xl text-pretty",children:"Bienvenido a tu espacio de entrenamiento. Sigue mejorando tus estad\xedsticas y alcanza tus objetivos."})]}),(0,a.jsx)("div",{className:"absolute right-0 top-0 h-full w-1/3 opacity-10",children:(0,a.jsx)("img",{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/WhatsApp%20Image%202025-10-09%20at%2012.34.38%283%29-kniT9oTPDSztZvxCjAHPuy4AxUeMvC.jpeg",alt:"",className:"h-full w-full object-cover"})})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,a.jsx)(l,{title:"Fuerza",value:s.strength,icon:C.A,color:"bg-primary"}),(0,a.jsx)(l,{title:"Resistencia",value:s.endurance,icon:_.A,color:"bg-chart-2"}),(0,a.jsx)(l,{title:"Flexibilidad",value:s.flexibility,icon:k.A,color:"bg-chart-3"})]}),s.accessoryPurchased&&(0,a.jsx)(o.Zp,{className:"border-2 border-primary/50 bg-primary/5",children:(0,a.jsx)(o.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-primary p-3 rounded-xl",children:(0,a.jsx)(S.A,{className:"h-6 w-6 text-primary-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-lg",children:"Accesorio Equipado"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Tienes un accesorio que mejora tu rendimiento"})]}),(0,a.jsxs)(W.E,{className:"ml-auto",variant:"secondary",children:[(0,a.jsx)(F.A,{className:"h-3 w-3 mr-1"}),"Activo"]})]})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Acciones de Entrenamiento"}),(0,a.jsx)(Z,{})]}),(0,a.jsxs)(o.Zp,{className:"border-2",children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{className:"text-2xl",children:"Sesiones Recientes"})}),(0,a.jsx)(o.Wu,{children:s.sessions&&s.sessions.length>0?(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:s.sessions.slice(0,6).map(e=>(0,a.jsx)(L,{description:e.description,timestamp:e.timestamp},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(C.A,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"A\xfan no tienes sesiones de entrenamiento registradas"})]})})]})]})]})}},7812:(e,s,t)=>{"use strict";t.d(s,{E:()=>o});var a=t(5155);t(2115);var r=t(2467),n=t(3101),i=t(5016);let d=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:s,variant:t,asChild:n=!1,...o}=e,l=n?r.DX:"span";return(0,a.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(d({variant:t}),s),...o})}},8413:(e,s,t)=>{"use strict";t.d(s,{F:()=>j});var a=t(5155),r=t(2619),n=t.n(r),i=t(9730),d=t(7003),o=t(4982),l=t(508),c=t(4926);t(2115);var u=t(5736),m=t(5016);function x(e){let{...s}=e;return(0,a.jsx)(u.bL,{"data-slot":"dropdown-menu",...s})}function h(e){let{...s}=e;return(0,a.jsx)(u.l9,{"data-slot":"dropdown-menu-trigger",...s})}function p(e){let{className:s,sideOffset:t=4,...r}=e;return(0,a.jsx)(u.ZL,{children:(0,a.jsx)(u.UC,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,m.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...r})})}function v(e){let{className:s,inset:t,variant:r="default",...n}=e;return(0,a.jsx)(u.q7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:(0,m.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n})}function f(e){let{className:s,inset:t,...r}=e;return(0,a.jsx)(u.JU,{"data-slot":"dropdown-menu-label","data-inset":t,className:(0,m.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",s),...r})}function g(e){let{className:s,...t}=e;return(0,a.jsx)(u.wv,{"data-slot":"dropdown-menu-separator",className:(0,m.cn)("bg-border -mx-1 my-1 h-px",s),...t})}function j(){let{user:e,logout:s}=(0,i.A)();return(0,a.jsx)("nav",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n(),{href:"/dashboard",className:"flex items-center gap-2 group",children:[(0,a.jsx)("div",{className:"bg-primary p-2 rounded-xl group-hover:scale-110 transition-transform",children:(0,a.jsx)(o.A,{className:"h-6 w-6 text-primary-foreground"})}),(0,a.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Gym Rat"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)(n(),{href:"/dashboard",className:"text-foreground/80 hover:text-foreground transition-colors font-medium",children:"Dashboard"}),(0,a.jsx)(n(),{href:"/exercises",className:"text-foreground/80 hover:text-foreground transition-colors font-medium",children:"Ejercicios"}),(0,a.jsx)(n(),{href:"/routines",className:"text-foreground/80 hover:text-foreground transition-colors font-medium",children:"Rutinas"}),(0,a.jsxs)(x,{children:[(0,a.jsx)(h,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"outline",className:"gap-2 bg-transparent",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),null==e?void 0:e.name]})}),(0,a.jsxs)(p,{align:"end",className:"w-56",children:[(0,a.jsx)(f,{children:"Mi Cuenta"}),(0,a.jsx)(g,{}),(0,a.jsxs)(v,{className:"text-muted-foreground",children:["@",null==e?void 0:e.username]}),(0,a.jsx)(g,{}),(0,a.jsxs)(v,{onClick:s,className:"text-destructive",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Cerrar Sesi\xf3n"]})]})]})]})]})})})}}},e=>{e.O(0,[809,58,327,430,434,540,441,255,358],()=>e(e.s=824)),_N_E=e.O()}]);